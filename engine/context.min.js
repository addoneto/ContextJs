let canvas,ctx,aspectRatio,lastFrameTime,deltaT,now,body,padding=0,fullScreen=!1,FPS=60,fpsInterval=1e3/FPS,startedLoop=!1;function setFrameRate(t){if(startedLoop)return console.error("Cannot set Frame Rate after start");fpsInterval=1e3/(FPS=t)}function fixedUpdateLoop(){if(requestAnimationFrame(fixedUpdateLoop),now=Date.now(),(deltaT=now-lastFrameTime)>fpsInterval){lastFrameTime=now-deltaT%fpsInterval;try{fixedUpdate()}catch(t){}}}function updateLoop(){try{update(),requestAnimationFrame(updateLoop)}catch(t){}}function createCanvas(t,e){canvas=document.createElement("canvas"),body.appendChild(canvas),t&&e&&(canvas.width=t,canvas.height=e),ctx=canvas.getContext("2d")}function createFullScreenCanvas(){fullScreen=!0,createCanvas(),window.addEventListener("resize",canvasResize),canvasResize()}function createResponsiveCanvas(t,e,a=0){createCanvas(),aspectRatio=[t,e],padding=a,window.addEventListener("resize",canvasResize),canvasResize()}function canvasResize(t,e){if(fullScreen)return canvas.width=window.innerWidth,void(canvas.height=window.innerHeight);if(t&&e)return canvas.width=t,void(canvas.height=e);if(aspectRatio){let t,e,a=window.innerWidth,i=window.innerHeight;aspectRatio[0]>aspectRatio[1]?e=(t=a)*aspectRatio[1]/aspectRatio[0]:aspectRatio[0]==aspectRatio[1]?e=t=a>=i?i:a:t=(e=i)*aspectRatio[0]/aspectRatio[1],canvas.width=t-padding,canvas.height=e-padding}}function background(t){ctx.fillStyle=t,ctx.fillRect(0,0,canvas.width,canvas.height)}function rect(t,e,a,i,n){ctx.rect(t,e,a,i),n&&fill(n)}function circle(t,e,a){ctx.beginPath(),ctx.arc(t,e,a,0,2*Math.PI,!1),ctx.closePath()}function elipse(t,e,a,i){ctx.beginPath(),ctx.ellipse(t,e,a,i,0,0,2*Math.PI),ctx.closePath()}function stroke(t,e){ctx.lineWidth=t,ctx.strokeStyle=e,ctx.stroke()}function fill(t){ctx.fillStyle=t,ctx.fill()}function image(t,e=0,a=0,i,n,s,c,o,r){let d=new Image;d.src=t,i||(i=d.width),n||(n=d.height),o||(o=d.width),r||(r=d.height),ctx.drawImage(d,e,a,i,n,s,c,o,r)}function numberRemap(t,e,a,i,n){return(t-e)/(a-e)*(n-i)+i}function lerp(t,e,a){return(1-a)*t+a*e}window.onload=(()=>{(body=document.getElementsByTagName("body")[0]).style.overflow="hidden";try{start()}catch(t){}canvas||createFullScreenCanvas(),lastFrameTime=Date.now(),fixedUpdateLoop(),startedLoop=!0,updateLoop()});class Vector2{constructor(t,e){this.x=t,this.y=e}sqrMag(){return this.x*this.x+this.y*this.y}mag(){return Math.sqrt(sqrMag())}normalize(){let t=this.mag();this.x/=t,this.y/=t}distSqr(t){let e=this.x-t.x,a=this.y-t.y;return e*e+a*a}dist(t){return Math.sqrt(distSqr(t))}add(t){this.x+=t.x,this.y+=t.y}subtract(t){this.x-=t.x,this.y-=t.y}divide(t){this.x/=t.x,this.y/=t.y}multiply(t){this.x*=t.x,this.y*=t.y}}