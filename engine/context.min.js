let canvas,ctx,aspectRatio,lastFrameTime,deltaT,now,body,fillColor,strokeWeight,strokeColor,padding=0,fullScreen=!1,FPS=60,fpsInterval=1e3/FPS,startedLoop=!1;function setFrameRate(t){if(startedLoop)return console.error("Cannot set Frame Rate after start");fpsInterval=1e3/(FPS=t)}function fixedUpdateLoop(){if(requestAnimationFrame(fixedUpdateLoop),now=Date.now(),(deltaT=now-lastFrameTime)>fpsInterval){lastFrameTime=now-deltaT%fpsInterval;try{fixedUpdate()}catch(t){}}}function updateLoop(){try{update(),requestAnimationFrame(updateLoop)}catch(t){}}function createCanvas(t,e){canvas=document.createElement("canvas"),body.appendChild(canvas),t&&e&&(canvas.width=t,canvas.height=e),ctx=canvas.getContext("2d"),fill("grey"),stroke(1,"black")}function createFullScreenCanvas(){fullScreen=!0,createCanvas(),window.addEventListener("resize",canvasResize),canvasResize()}function createResponsiveCanvas(t,e,a=0){createCanvas(),aspectRatio=[t,e],padding=a,window.addEventListener("resize",canvasResize),canvasResize()}function canvasResize(t,e){if(fullScreen)return canvas.width=window.innerWidth,void(canvas.height=window.innerHeight);if(t&&e)return canvas.width=t,void(canvas.height=e);if(aspectRatio){let t,e,a=window.innerWidth,n=window.innerHeight;aspectRatio[0]>aspectRatio[1]?e=(t=a)*aspectRatio[1]/aspectRatio[0]:aspectRatio[0]==aspectRatio[1]?e=t=a>=n?n:a:t=(e=n)*aspectRatio[0]/aspectRatio[1],canvas.width=t-padding,canvas.height=e-padding}}function background(t){ctx.fillStyle=t,ctx.fillRect(0,0,canvas.width,canvas.height)}function rect(t,e,a,n){ctx.rect(t,e,a,n),pathStyle()}function circle(t,e,a){ctx.beginPath(),ctx.arc(t,e,a,0,2*Math.PI,!1),ctx.closePath(),pathStyle()}function elipse(t,e,a,n){ctx.beginPath(),ctx.ellipse(t,e,a,n,0,0,2*Math.PI),ctx.closePath(),pathStyle()}function line(t,e,a,n){ctx.beginPath(),ctx.moveTo(t,e),ctx.lineTo(a,n),ctx.closePath(),ctx.lineWidth=strokeWeight,ctx.strokeStyle=strokeColor,strokeWeight&&strokeColor&&ctx.stroke()}function stroke(t,e){strokeWeight=t,strokeColor=e}function noFill(){fillColor=null}function noStroke(){strokeWeight=null,strokeColor=null}function fill(t){fillColor=t}function pathStyle(){ctx.fillStyle=fillColor,ctx.lineWidth=strokeWeight,ctx.strokeStyle=strokeColor,fillColor&&ctx.fill(),strokeWeight&&strokeColor&&ctx.stroke()}function image(t,e=0,a=0,n,i,o,s,c,r){let l=new Image;l.src=t,n||(n=l.width),i||(i=l.height),c||(c=l.width),r||(r=l.height),ctx.drawImage(l,e,a,n,i,o,s,c,r)}function numberRemap(t,e,a,n,i){return(t-e)/(a-e)*(i-n)+n}function lerp(t,e,a){return(1-a)*t+a*e}function random(t,e){return Math.random()*(e-t)+t}function canvasGetPixels(){return ctx.getImageData(0,0,canvas.width,canvas.height)}function canvasUpdatePixels(t){ctx.putImageData(t,0,0)}window.onload=(()=>{(body=document.getElementsByTagName("body")[0]).style.overflow="hidden";try{start()}catch(t){}canvas||createFullScreenCanvas(),lastFrameTime=Date.now(),fixedUpdateLoop(),startedLoop=!0,updateLoop()});class Vector2{constructor(t,e){this.x=t,this.y=e}sqrMag(){return this.x*this.x+this.y*this.y}mag(){return Math.sqrt(sqrMag())}normalize(){let t=this.mag();this.x/=t,this.y/=t}distSqr(t){let e=this.x-t.x,a=this.y-t.y;return e*e+a*a}dist(t){return Math.sqrt(distSqr(t))}add(t){this.x+=t.x,this.y+=t.y}subtract(t){this.x-=t.x,this.y-=t.y}divide(t){this.x/=t.x,this.y/=t.y}multiply(t){this.x*=t.x,this.y*=t.y}}function perlinNoise(t,e){}document.addEventListener("keydown",function(t){let e=t.which||t.keyCode;try{keyPressed(e)}catch(t){}});